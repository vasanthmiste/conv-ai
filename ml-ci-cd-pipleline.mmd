%%{init: {"theme": "base", "themeVariables": {"primaryColor": "#1f77b4", "edgeLabelBackground":"#f0f0f0", "tertiaryColor": "#ff7f0e", "fontFamily": "Arial", "fontSize": "14px"}}}%%
graph TD
    %% Post-Production Monitoring Subgraph %%
    subgraph Post-Production Monitoring
        A[ðŸš€ Production Model Deployment] --> B[ðŸ“Š Monitor Model Performance]
        B --> C[ðŸ“¥ Log Input Data and Predictions]
        B --> D[ðŸ” Detect Data Drift and Concept Drift]
        C --> E[ðŸ“„ Generate Explainability Metrics]
        E --> F[ðŸ“ˆ Visualize Explainability Reports]
        D --> G[âš ï¸ Trigger Alerts for Performance Degradation]
        G --> H[ðŸ“§ Notify Stakeholders]
    end

    %% Retraining Pipeline Subgraph %%
    subgraph Retraining Pipeline
        A1[ðŸ“‚ Data Collection from Production] --> B1[ðŸ” Data Validation]
        B1 --> C1[ðŸ“‰ Analyze Drift and Performance Issues]
        C1 --> D1[ðŸ” Trigger Retraining]
        D1 --> E1[ðŸ› ï¸ Prepare Training Dataset]
        E1 --> F1[ðŸ‹ï¸ Train New Model with Updated Data]
        F1 --> G1[ðŸ§ª Evaluate Retrained Model]
        G1 --> H1{ðŸ“‹ Is New Model Better?}
        H1 -->|âœ” Yes| I1[ðŸš€ Deploy Retrained Model]
        H1 -->|âœ– No| J1[ðŸ—‘ï¸ Discard Retrained Model]
        I1 --> K1[ðŸ“Š Update Monitoring with New Model]
    end

    %% Connections Between Subgraphs %%
    F --> A1[Feedback Loop]
    K1 --> B

